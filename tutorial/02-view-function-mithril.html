<!DOCTYPE html><html>
<head>
<title>Meiosis Tutorial</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="stylesheet" href="normalize.css">
<link rel="stylesheet" href="skeleton.css">
<link rel="stylesheet" href="prism.css">
<link rel="stylesheet" href="style.css">
</head>
<body class="container">
<script src="https://flems.io/flems.html" type="text/javascript" charset="utf-8"></script>
<script src="prism.js" type="text/javascript"></script>
<h1><a href="http://meiosis.js.org">Meiosis</a> Tutorial</h1><p><a href="toc.html">Table of Contents</a></p>
<h2>02 - View Function</h2><p>In the previous lesson, <a href="01-hello-world-mithril.html">01 - Hello World</a>, we rendered a simple,
<strong>static</strong> message onto the page. Now, let&#39;s write a <strong>function</strong> that <strong>dynamically</strong> produces
what to render, based on a <strong>model</strong>. We&#39;ll call this the <strong>view</strong> function.</p>
<h3>View = function(model)</h3><p>The <code>view</code> function produces the vnode to render. Since it is a function, it can receive
parameters - namely, the <strong>model</strong>. The model is a plain JavaScript object that represents the
state of the application.</p>
<p>In our example, the model is a counter. We&#39;ll create an <strong>initial</strong> model with a value of <code>0</code>.
When rendering with <code>m.render</code>, we pass the DOM element as before, but instead of hardcoding
what to render, we pass the <strong>result</strong> of calling the <code>view</code> function with the value
<code>0</code>.</p>
<p><img src="02-view-function-01.svg" alt="The View Function"></p>
<p>Within the <code>view</code> function, we can create a view as we see fit, using the <code>model</code>. In this
case, we are simply creating a <code>div</code> element with the text <code>Counter:</code> and the value that was
passed in:</p>
  <div id="flems1" class="flemscode"></div>

  <script>
    window.Flems(flems1, {
      files: [{name: "02-view-function.js", content: "/*global m*/\nvar view = function(model) {\n  return m(\"div\", \"Counter: \" + model);\n};\n\nvar initial = 0;\nvar element = document.getElementById(\"app\");\nm.render(element, view(initial));\n"},{name: "app.html", content: "<div id=\"app\"></div>\n"},{name: "app.css", content: "body, button {\n  font-family: sans-serif;\n  font-size: 1rem;\n}\nbutton, button.light {\n  cursor: pointer;\n  padding: 2px 8px 2px 8px;\n  color: #5755d9;\n  background-color: #ffffff;\n  border: 1px solid #5755d9;\n  margin: 4px;\n}\nbutton:hover {\n  background-color: #eeeeee;\n}\nbutton.dark {\n  background-color: #5755d9;\n  color: #ffffff;\n}\nbutton.dark:hover {\n  background-color: #7775f9;\n}\n.temperature {\n  margin-bottom: 20px;\n}"}],
      links: [{name: "mithril", type: "js", url: "https://unpkg.com/mithril@1.1.6"}],
      middle: 75
    })
  </script>


<p>This concept of having the view as a <strong>function of the model</strong> is important. The resulting
view depends only on what is passed in to the function. This makes it simple to write view
functions and understand how they work and what they are doing. The view is produced without
reaching out to external code, without pulling in state that is stored elsewhere, and so on.
It is just a simple function of the model.</p>
<h3>Exercises</h3><ol>
<li>Try changing what you pass in to the <code>view</code> function, and seeing the results.</li>
<li>Change the <code>view</code> function so that it produces something different.</li>
<li>Instead of passing a plain number to the <code>view</code> function, try passing in an object such as
<code>{ label: &quot;The Counter&quot;, value: 0 }</code> as the model. Change the <code>view</code> function so that it uses the
model to produce the view.</li>
</ol>
<p>In the next lesson, we will learn how to let the user increment the counter by clicking on a
button. The button will trigger code that adds 1 to the model and re-renders the view.</p>
<p>When you are ready, continue on to <a href="03-update-model-mithril.html">03 - Update Model</a>.</p>
<p><a href="toc.html">Table of Contents</a></p>
<hr>
<p><a href="http://meiosis.js.org">Meiosis</a> is developed by <a href="http://twitter.com/foxdonut00">@foxdonut00</a> / <a href="https://github.com/foxdonut">foxdonut</a> and is released under the MIT license.</p>

</body></html>